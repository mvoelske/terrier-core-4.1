***************
*** 77,107 ****
  	</dependency>
  
  	<dependency>
- 		<groupId>org.apache.hadoop</groupId>
- 		<artifactId>hadoop-core</artifactId>
- 		<version>0.20.2</version> <!-- Should be 0.20.2+228 -->
- 		
- 		<exclusions>
-                         <exclusion>
-                         	<groupId>org.mortbay.jetty</groupId>
-                         	<artifactId>jetty</artifactId>
-                         </exclusion>
-                         <exclusion>
-                         	<groupId>org.mortbay.jetty</groupId>
-                         	<artifactId>jetty-util</artifactId>
-                         </exclusion>
-                         <exclusion>
-                         	<groupId>org.mortbay.jetty</groupId>
-                         	<artifactId>jsp-api-2.1</artifactId>
-                         </exclusion>
-                         <exclusion>
-                         	<groupId>org.mortbay.jetty</groupId>
-                         	<artifactId>servlet-api-2.5</artifactId>
-                         </exclusion>
-                 </exclusions>
- 		
- 	</dependency>
  
  	<dependency>
  		<groupId>org.jsoup</groupId>
  		<artifactId>jsoup</artifactId>
--- 77,131 ----
  	</dependency>
  
  	<dependency>
+     <groupId>org.apache.hadoop</groupId>
+     <artifactId>hadoop-hdfs</artifactId>
+     <version>2.7.1</version>
+ </dependency>
+ <dependency>
+     <groupId>org.apache.hadoop</groupId>
+     <artifactId>hadoop-common</artifactId>
+     <version>2.7.1</version>
+      <exclusions>
+              <exclusion>
+              <groupId>org.slf4j</groupId>
+              <artifactId>slf4j-log4j12</artifactId>
+              </exclusion>
+      </exclusions>
+ </dependency>
+ 
+ <dependency>
+ 	<groupId>org.apache.hadoop</groupId>
+ 	<artifactId>hadoop-minicluster</artifactId>
+ 	<version>2.7.1</version>
+ 	<scope>test</scope>
+ </dependency>
+ 
+    <dependency>
+ 	<groupId>org.slf4j</groupId>
+     <artifactId>slf4j-api</artifactId>
+ 	<version>1.7.13</version>
+ </dependency>
+ 
+    <dependency>
+ 	<groupId>org.slf4j</groupId>
+     <artifactId>slf4j-simple</artifactId>
+ 	<version>1.7.13</version>
+ </dependency>
+ 
+ <dependency>
+ 	<groupId>org.apache.hadoop</groupId>
+ 	<artifactId>hadoop-mapreduce-client-core</artifactId>
+ 	<version>2.6.0</version>
+ 	<exclusions>
+              <exclusion>
+              <groupId>org.slf4j</groupId>
+              <artifactId>slf4j-log4j12</artifactId>
+              </exclusion>
+      </exclusions>
+ </dependency>
+ 
  
+ 	
  	<dependency>
  		<groupId>org.jsoup</groupId>
  		<artifactId>jsoup</artifactId>
***************
*** 375,382 ****
        			<artifactId>maven-assembly-plugin</artifactId>
        			<version>2.6</version>
        			<configuration>
-       				<descriptor>src/assembly/bin.xml</descriptor>
- 		   			 <finalName>terrier-core-${project.version}</finalName>
          			<archive>
            				<manifest>
              				<mainClass>TrecTerrier</mainClass>
--- 399,405 ----
        			<artifactId>maven-assembly-plugin</artifactId>
        			<version>2.6</version>
        			<configuration>
+       				 <finalName>terrier-core-${project.version}</finalName>
          			<archive>
            				<manifest>
              				<mainClass>TrecTerrier</mainClass>
***************
*** 385,390 ****
          			<descriptorRefs>
            				<descriptorRef>jar-with-dependencies</descriptorRef>
          			</descriptorRefs>
        			</configuration>
      		</plugin>
      		
--- 408,420 ----
          			<descriptorRefs>
            				<descriptorRef>jar-with-dependencies</descriptorRef>
          			</descriptorRefs>
+         			 <dependencySets>
+ 					   <dependencySet>
+ 					     <excludes>
+ 					       <exclude>org.slf4j:slf4j-log4j12</exclude>
+ 					     </excludes>
+ 					   </dependencySet>
+ 					 </dependencySets>
        			</configuration>
      		</plugin>
      		
***************
*** 399,419 ****
                          <goal>shade</goal>
                      </goals>
                      <configuration>
                          <!--<artifactSet>
                              <excludes>
                                  <exclude>jarname</exclude>
                              </excludes>
                          </artifactSet> -->
                          <filters>
- 			  <filter>
- 			    <artifact>*:*</artifact>
- 			    <excludes>
- 			      <exclude>META-INF/*.SF</exclude>
- 			      <exclude>META-INF/*.DSA</exclude>
- 			      <exclude>META-INF/*.RSA</exclude>
- 			    </excludes>
- 			  </filter>
- 			 </filters>
  
                           <transformers>
                              <transformer
--- 429,454 ----
                          <goal>shade</goal>
                      </goals>
                      <configuration>
+                     <artifactSet>
+             		    <excludes>
+             		    	<exclude>org.slf4j:slf4j-log4j12</exclude>
+             		    </excludes>
+             		 </artifactSet>
                          <!--<artifactSet>
                              <excludes>
                                  <exclude>jarname</exclude>
                              </excludes>
                          </artifactSet> -->
                          <filters>
+ 						  <filter>
+ 						    <artifact>*:*</artifact>
+ 						    <excludes>
+ 						      <exclude>META-INF/*.SF</exclude>
+ 						      <exclude>META-INF/*.DSA</exclude>
+ 						      <exclude>META-INF/*.RSA</exclude>
+ 						    </excludes>
+ 						  </filter>
+ 						 </filters>
  
                           <transformers>
                              <transformer
